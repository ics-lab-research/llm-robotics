```URscript
def move_joint():
  local Waypoint_1_p=p[-0.13, -0.26, 0.14, -0.001, 3.11, 0.03]
  local Waypoint_1_q=[-1.6, -1.72, -2.2, -0.8, 1.59, -0.03]

  while (True):
    global move_thread_flag=0
    thread move_thread():
      enter_critical
      move_thread_flag = 1
      movej(get_inverse_kin(Waypoint_1_p, qnear=Waypoint_1_q), a=1.39, v=1.04)
      move_thread_flag = 2
      exit_critical
    end
    move_thread_flag = 0
    move_thread_han = run move_thread()
    while (True):
      if (get_standard_digital_in(0) == False):
        kill move_thread_han
        stopj(3.141592653589793)
        break
      end
      sleep(1.0E-10)
      if (move_thread_flag > 1):
        join move_thread_han
        break
      end
      sync()
    end
  end
end
```
