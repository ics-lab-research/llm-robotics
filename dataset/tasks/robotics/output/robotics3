```URscipt
def rotvec2rotmat(rotvec):

	rx = rotvec[0]
	ry = rotvec[1]
	rz = rotvec[2]

	# rotation vector to angle and unit vector
	theta = sqrt(rx*rx + ry*ry + rz*rz)
	ux = rx/theta
	uy = ry/theta
	uz = rz/theta
	cth = cos(theta)
	sth = sin(theta)
	vth = 1-cos(theta)

	# column 1
	r11 = ux*ux*vth + cth
	r21 = ux*uy*vth + uz*sth
	r31 = ux*uz*vth - uy*sth
	# column 2
	r12 = ux*uy*vth - uz*sth
	r22 = uy*uy*vth + cth
	r32 = uy*uz*vth + ux*sth
	# column 3
	r13 = ux*uz*vth + uy*sth
	r23 = uy*uz*vth - ux*sth
	r33 = uz*uz*vth + cth

	# elements are represented as an array
	rotmat = [ r11, r21, r31, r12, r22, r32, r13, r23, r33 ]
	
	return rotmat
end
```
